import{r as c,j as e,c as p}from"./index-CNWP7TEN.js";import{S as h}from"./Sidebar-TceMqfhv.js";import{N as j}from"./Navbar-CChhFCP0.js";const f=({isOpen:r,onClose:i,onAddTask:m})=>{const a=c.useRef(null),u=l=>{const n=l.target;a.current&&(n===a.current||a.current.contains(n))||i()};c.useEffect(()=>{r&&a.current&&a.current.showModal()},[r]);const o=l=>{var b;l.preventDefault();const n=document.querySelector('#task_modal input[type="text"]'),d=document.querySelector("#task_modal textarea");if(n&&d){const s=n.value,t=d.value;m({title:s,description:t}),(b=a.current)==null||b.close()}};return e.jsxs("dialog",{ref:a,id:"task_modal",className:"modal mt-16",onClick:u,children:[e.jsxs("div",{className:"modal-box",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-bold text-lg",children:"Add Task"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-circle btn-neutral",onClick:()=>{var l;return(l=a.current)==null?void 0:l.close()},children:"Ã—"})]}),e.jsxs("form",{onSubmit:o,children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"label",children:"Title:"}),e.jsx("input",{type:"text",className:"input w-64 border border-gray-300 rounded-lg p-2"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"label",children:"Description:"}),e.jsx("textarea",{className:"textarea w-64 h-24 border border-gray-300 rounded-lg p-2"})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{type:"submit",className:"btn",children:"Add Task"})})]})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{children:"close"})})]})},N=()=>{const[r,i]=c.useState([{id:1,title:"Task 1",status:"to-do"},{id:2,title:"Task 2",status:"in-progress"},{id:3,title:"Task 3",status:"done"}]),[m,a]=c.useState(!1),[u,o]=c.useState("to-do"),l=(s,t)=>{s.dataTransfer.setData("task",JSON.stringify(t))},n=s=>{s.preventDefault()},d=(s,t)=>{const x=JSON.parse(s.dataTransfer.getData("task"));i(r.map(g=>g.id===x.id?{...g,status:t}:g))},b=s=>{const x={id:r.length+1,...s,status:u};i([...r,x]),a(!1)};return e.jsxs("div",{className:"flex flex-row h-screen",children:[e.jsx(h,{children:e.jsx("div",{})}),e.jsxs("div",{className:"flex-1 p-4 mt-16 mr-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Taskboard"}),e.jsxs("div",{className:"flex flex-row justify-center gap-4",children:[e.jsxs("div",{className:"bg-base-100 p-4 rounded-lg w-64",onDragOver:n,onDrop:s=>d(s,"to-do"),children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"To-Do"}),e.jsx("button",{className:"bg-base-200 p-2 rounded-lg mb-2",onClick:()=>{o("to-do"),a(!0)},children:"Add Task"}),e.jsx("ul",{className:"list-none",children:r.filter(s=>s.status==="to-do").map(s=>e.jsx("li",{className:"bg-base-200 p-2 rounded-lg mb-2",draggable:!0,onDragStart:t=>l(t,s),children:s.title},s.id))})]}),e.jsxs("div",{className:"bg-base-100 p-4 rounded-lg w-64",onDragOver:n,onDrop:s=>d(s,"in-progress"),children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"In-Progress"}),e.jsx("button",{className:"bg-base-200 p-2 rounded-lg mb-2",onClick:()=>{o("in-progress"),a(!0)},children:"Add Task"}),e.jsx("ul",{className:"list-none",children:r.filter(s=>s.status==="in-progress").map(s=>e.jsx("li",{className:"bg-base-200 p-2 rounded-lg mb-2",draggable:!0,onDragStart:t=>l(t,s),children:s.title},s.id))})]}),e.jsxs("div",{className:"bg-base-100 p-4 rounded-lg w-64",onDragOver:n,onDrop:s=>d(s,"in-review"),children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"In Review"}),e.jsx("button",{className:"bg-base-200 p-2 rounded-lg mb-2",onClick:()=>{o("in-review"),a(!0)},children:"Add Task"}),e.jsx("ul",{className:"list-none",children:r.filter(s=>s.status==="in-review").map(s=>e.jsx("li",{className:"bg-base-200 p-2 rounded-lg mb-2",draggable:!0,onDragStart:t=>l(t,s),children:s.title},s.id))})]}),e.jsxs("div",{className:"bg-base-100 p-4 rounded-lg w-64",onDragOver:n,onDrop:s=>d(s,"done"),children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"Done"}),e.jsx("button",{className:"bg-base-200 p-2 rounded-lg mb-2",onClick:()=>{o("done"),a(!0)},children:"Add Task"}),e.jsx("ul",{className:"list-none",children:r.filter(s=>s.status==="done").map(s=>e.jsx("li",{className:"bg-base-200 p-2 rounded-lg mb-2",draggable:!0,onDragStart:t=>l(t,s),children:s.title},s.id))})]})]})]}),m&&e.jsx(f,{isOpen:m,onClose:()=>a(!1),onAddTask:b,status:u})]})},w=p("/taskboard")({component:k});function k(){return e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx(N,{})]})}export{w as Route};
